(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{110:function(e,t,o){e.exports={spinner:"preloader_spinner__2srWC"}},133:function(e,t,o){},221:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o(23),c=o.n(a),r=o(24),s=o(43),i=(o(133),o(29)),u=(o(134),o(223)),l=o(7),b=o(49),d=o.n(b),j=o(36),p=o.n(j),O=o(53),h=o(81),g=o.n(h),m=function(e,t,o,n,a){return g.a.get("".concat("https://www.googleapis.com/books/v1/","volumes?q=").concat(e,"+subject:").concat(t,"&orderBy=").concat(o,"&startIndex=").concat(n,"&maxResults=").concat(a,"&key=").concat("AIzaSyBLQbTDxcZy3nUi3j1-Z5lIA_zd8i_dWQA")).then((function(e){return e.data}))},f=function(e){return g.a.get("".concat("https://www.googleapis.com/books/v1/","volumes/").concat(e)).then((function(e){return e.data.volumeInfo}))},v=function(e){return{type:"APP_REDUCER/CHANGE-STATUS",status:e}},_=function(e){return{type:"CURRENT_BOOK/SET-BOOK",book:e}},x=o.p+"static/media/tail-spin.04c17002.svg",k=o(110),I=o.n(k),y=o(5),N=function(){return Object(y.jsxs)("div",{className:I.a.spinner,children:[Object(y.jsx)("img",{alt:"Preloader",src:x}),Object(y.jsx)("div",{children:"loading..."})]})},C=o(41),S=o.n(C),B=function(){var e,t,o=Object(r.b)(),a=Object(l.g)(),c=Object(r.c)((function(e){return e.currentBook})),s=Object(r.c)((function(e){return e.app.status}));Object(n.useLayoutEffect)((function(){o(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(o){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(v("loading")),t.next=3,f(e);case 3:n=t.sent,o(_(n)),o(v("succeeded"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a["*"]))}),[]);return Object(y.jsx)("div",{children:"loading"===s?Object(y.jsx)(N,{}):Object(y.jsxs)("div",{className:S.a.container,children:[Object(y.jsx)("div",{className:S.a.bookImage,children:Object(y.jsx)("img",{src:c.image,alt:"bookImage"})}),Object(y.jsxs)("div",{className:S.a.bookDescription,children:[Object(y.jsx)("div",{children:null===(e=c.categories)||void 0===e?void 0:e.map((function(e){return Object(y.jsx)("span",{className:S.a.categories,children:e},e)}))}),Object(y.jsxs)("div",{children:[c.title,c.subTitle]}),Object(y.jsx)("div",{className:S.a.author,children:null===(t=c.author)||void 0===t?void 0:t.map((function(e){return Object(y.jsxs)("span",{children:[e," "]},e)}))}),Object(y.jsx)("p",{className:S.a.descriptionContainer,dangerouslySetInnerHTML:{__html:c.description}})]})]})})},w=function(e,t){return{type:"FOUND_BOOKS/SET-BOOKS",books:t,totalItems:e}},T=function(e,t){return{type:"FIND_BOOKS/LOAD-MORE",books:t,totalItems:e}},E=o(50),L=o.n(E),R=function(e){var t,o=e.id,n=e.categories,a=e.title,c=e.author,r=e.image;return c&&(t=c.join(" / ")),Object(y.jsx)("div",{className:L.a.card,children:Object(y.jsxs)(s.b,{to:"bookInfo/".concat(o),children:[Object(y.jsx)("img",{src:r,alt:"bookImage"}),Object(y.jsxs)("div",{className:L.a.description,children:[Object(y.jsx)("div",{className:L.a.categories,children:n}),Object(y.jsx)("div",{className:L.a.title,children:a}),Object(y.jsx)("div",{className:L.a.author,children:t})]})]})})},A=o(74),D=o.n(A),W=function(e){var t=e.totalItems,o=e.loadStatus,n=e.maxResults,a=e.book,c=e.startIndex,s=e.category,i=e.sorting,u=e.books,l=Object(r.b)();return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:D.a.founds,children:["Found ",t," results"]}),Object(y.jsx)("div",{className:D.a.cardWrapper,children:u.map((function(e){var t=e.id,o=e.categories,n=e.title,a=e.image,c=e.author;return Object(y.jsx)(R,{id:t,title:n,image:a,author:c,categories:o?o[0]:""},t)}))}),u.length<t?Object(y.jsx)("button",{className:D.a.button,disabled:"disable"===o,type:"button",onClick:function(){l(function(e,t,o,n,a){return function(){var c=Object(O.a)(p.a.mark((function c(r){var s,i,u,l;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r(v("disable")),c.next=3,m(e,t,o,n,a);case 3:i=c.sent,u=i.totalItems,l=null===(s=i.items)||void 0===s?void 0:s.map((function(e){return{id:e.id,volumeInfo:e.volumeInfo}})),r(T(u,l||[])),r(v("succeeded"));case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(a,s,i,c,n))},children:"load More"}):null]})},K=o(224),U=o(82),M=o.n(U),P=K.a.Option,z=function(e){var t=e.onChangeCategory,o=e.category;return Object(y.jsxs)("div",{className:M.a.categories,children:[Object(y.jsx)("div",{children:"categories"}),Object(y.jsxs)(K.a,{onChange:t,value:o,className:M.a.select,children:[Object(y.jsx)(P,{value:"",children:"all"}),Object(y.jsx)(P,{value:"art",children:"art"}),Object(y.jsx)(P,{value:"biography",children:"biography"}),Object(y.jsx)(P,{value:"computers",children:"computers"}),Object(y.jsx)(P,{value:"history",children:"history"}),Object(y.jsx)(P,{value:"medical",children:"medical"}),Object(y.jsx)(P,{value:"poetry",children:"poetry"})]})]})},F=o(85),J=o.n(F),q=K.a.Option,H=function(e){var t=e.onChangeSorting,o=e.sorting;return Object(y.jsxs)("div",{className:J.a.category,children:[Object(y.jsx)("div",{children:"sorting by"}),Object(y.jsxs)(K.a,{onChange:t,value:o,className:J.a.sorting,children:[Object(y.jsx)(q,{value:"relevance",children:"relevance"}),Object(y.jsx)(q,{value:"newest",children:"newest"})]})]})},Q=u.a.Search,Y=function(){var e=Object(r.b)(),t=Object(l.f)(),o=Object(r.c)((function(e){return e.foundBooks.booksInfo})),a=Object(r.c)((function(e){return e.foundBooks.totalItems})),c=Object(r.c)((function(e){return e.app.status})),s=Object(n.useState)("relevance"),u=Object(i.a)(s,2),b=u[0],j=u[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),f=g[0],_=g[1],x=Object(n.useState)(""),k=Object(i.a)(x,2),I=k[0],C=k[1],S=o.length,T=Math.min(30,a-S);return Object(y.jsxs)("div",{className:d.a.container,children:[Object(y.jsxs)("div",{className:d.a.header,children:[Object(y.jsx)("h1",{children:"Search for books"}),Object(y.jsx)(Q,{className:d.a.search,onSearch:function(o){t("/"),C(o),e(function(e,t,o,n,a){return function(){var c=Object(O.a)(p.a.mark((function c(r){var s,i,u,l;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r(v("loading")),c.next=3,m(e,t,o,n,a);case 3:i=c.sent,u=i.totalItems,l=null===(s=i.items)||void 0===s?void 0:s.map((function(e){return{id:e.id,volumeInfo:e.volumeInfo}})),r(v("succeeded")),r(w(u,l||[]));case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(o,f,b,0,30))},placeholder:"input search text",allowClear:!0}),Object(y.jsxs)("div",{className:d.a.categoriesWrapper,children:[Object(y.jsx)(z,{onChangeCategory:_,category:f}),Object(y.jsx)(H,{onChangeSorting:j,sorting:b})]})]}),Object(y.jsx)("div",{children:Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{path:"/",element:Object(y.jsx)("div",{className:d.a.bookListWrapper,children:"loading"===c?Object(y.jsx)(N,{}):Object(y.jsx)(W,{books:o,sorting:b,category:f,startIndex:S,totalItems:a,loadStatus:c,maxResults:T,book:I})})}),Object(y.jsx)(l.a,{path:"bookInfo/*",element:Object(y.jsx)(B,{})})]})})]})},G=o(75),Z=o(118),V=o(37),X={status:"idle"},$={image:"",description:"",title:"",categories:[],author:[],subTitle:""},ee=o(86),te=function(e){var t=e.id,o=e.volumeInfo,n=o.title,a=o.categories,c=o.imageLinks,r=o.authors;return{id:t,categories:a,subTitle:o.subtitle,author:r,image:c?c.thumbnail:"",title:n}},oe={totalItems:0,booksInfo:[]},ne=Object(G.b)({foundBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOUND_BOOKS/SET-BOOKS":return Object(V.a)(Object(V.a)({},e),{},{booksInfo:t.books.map(te),totalItems:t.totalItems});case"FIND_BOOKS/LOAD-MORE":return Object(V.a)(Object(V.a)({},e),{},{booksInfo:[].concat(Object(ee.a)(e.booksInfo),Object(ee.a)(t.books.map(te))),totalItems:t.totalItems});default:return e}},currentBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return"CURRENT_BOOK/SET-BOOK"===t.type?{description:t.book.description,author:t.book.authors,categories:t.book.categories,image:t.book.imageLinks?t.book.imageLinks.medium:"",subTitle:t.book.subtitle,title:t.book.title}:e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;return"APP_REDUCER/CHANGE-STATUS"===t.type?Object(V.a)(Object(V.a)({},e),{},{status:t.status}):e}}),ae=Object(G.c)(ne,Object(G.a)(Z.a));c.a.render(Object(y.jsx)(r.a,{store:ae,children:Object(y.jsx)(s.a,{children:Object(y.jsx)(Y,{})})}),document.getElementById("root"))},41:function(e,t,o){e.exports={container:"bookInfo_container__2CTee",bookImage:"bookInfo_bookImage__3WE3_",bookDescription:"bookInfo_bookDescription__18aax",categories:"bookInfo_categories__sOKpu",author:"bookInfo_author__1J8zJ",descriptionContainer:"bookInfo_descriptionContainer__3B50q"}},49:function(e,t,o){e.exports={container:"app_container__1lkyz",header:"app_header__2D4ob",categoriesWrapper:"app_categoriesWrapper__3AiL-",search:"app_search__40oP2",bookListWrapper:"app_bookListWrapper__3bvqR"}},50:function(e,t,o){e.exports={card:"bookCard_card__3gtM6",description:"bookCard_description__2UUrp",categories:"bookCard_categories__zbyre",title:"bookCard_title__2PP5t",author:"bookCard_author__2Rs0g"}},74:function(e,t,o){e.exports={founds:"booksList_founds__3ppYd",cardWrapper:"booksList_cardWrapper__1qyYk",button:"booksList_button__MQpor"}},82:function(e,t,o){e.exports={categories:"categories_categories__3aJzr",select:"categories_select__2MYa4"}},85:function(e,t,o){e.exports={category:"sorting_category__3O1AN",sorting:"sorting_sorting__2a4TV"}}},[[221,1,2]]]);
//# sourceMappingURL=main.c28bdbf4.chunk.js.map